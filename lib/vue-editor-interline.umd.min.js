(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-editor-interline"]=e():t["vue-editor-interline"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var i=n("2d00"),o=n("5ca1"),r=n("2aba"),c=n("32e9"),a=n("84f2"),s=n("41a0"),l=n("7f20"),u=n("38fd"),f=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,y,b,w){s(n,e,g);var _,x,C,E=function(t){if(!d&&t in T)return T[t];switch(t){case h:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",k=y==v,O=!1,T=t.prototype,I=T[f]||T[p]||y&&T[y],$=I||E(y),N=y?k?E("entries"):$:void 0,j="Array"==e&&T.entries||I;if(j&&(C=u(j.call(new t)),C!==Object.prototype&&C.next&&(l(C,S,!0),i||"function"==typeof C[f]||c(C,f,m))),k&&I&&I.name!==v&&(O=!0,$=function(){return I.call(this)}),i&&!w||!d&&!O&&T[f]||c(T,f,$),a[e]=$,a[S]=m,y)if(_={values:k?$:E(v),keys:b?$:E(h),entries:N},w)for(x in _)x in T||r(T,x,_[x]);else o(o.P+o.F*(d||O),e,_);return _}},"02f4":function(t,e,n){var i=n("4588"),o=n("be13");t.exports=function(t){return function(e,n){var r,c,a=String(o(e)),s=i(n),l=a.length;return s<0||s>=l?t?"":void 0:(r=a.charCodeAt(s),r<55296||r>56319||s+1===l||(c=a.charCodeAt(s+1))<56320||c>57343?t?a.charAt(s):r:t?a.slice(s,s+2):c-56320+(r-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var i=n("ce10"),o=n("e11e");t.exports=Object.keys||function(t){return i(t,o)}},"11e9":function(t,e,n){var i=n("52a7"),o=n("4630"),r=n("6821"),c=n("6a99"),a=n("69a8"),s=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=r(t),e=c(e,!0),s)try{return l(t,e)}catch(n){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},1495:function(t,e,n){var i=n("86cc"),o=n("cb7c"),r=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){o(t);var n,c=r(e),a=c.length,s=0;while(a>s)i.f(t,n=c[s++],e[n]);return t}},"1bc3":function(t,e,n){var i=n("f772");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var i=n("f772"),o=n("e53d").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),o=n("32e9"),r=n("79e5"),c=n("be13"),a=n("2b4c"),s=n("520a"),l=a("species"),u=!r(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=a(t),p=!r(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),h=p?!r(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e}):void 0;if(!p||!h||"replace"===t&&!u||"split"===t&&!f){var v=/./[d],m=n(c,d,""[t],function(t,e,n,i,o){return e.exec===s?p&&!o?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),g=m[0],y=m[1];i(String.prototype,t,g),o(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"230e":function(t,e,n){var i=n("d3f4"),o=n("7726").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},"23c6":function(t,e,n){var i=n("2d95"),o=n("2b4c")("toStringTag"),r="Arguments"==i(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=Object(t),o))?n:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var i=n("7726"),o=n("32e9"),r=n("69a8"),c=n("ca5a")("src"),a=n("fa5b"),s="toString",l=(""+a).split(s);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var s="function"==typeof n;s&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(s&&(r(n,c)||o(n,c,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[c]||a.call(this)})},"2aeb":function(t,e,n){var i=n("cb7c"),o=n("1495"),r=n("e11e"),c=n("613b")("IE_PROTO"),a=function(){},s="prototype",l=function(){var t,e=n("230e")("iframe"),i=r.length,o="<",c=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+c+"document.F=Object"+o+"/script"+c),t.close(),l=t.F;while(i--)delete l[s][r[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[s]=i(t),n=new a,a[s]=null,n[c]=t):n=l(),void 0===e?n:o(n,e)}},"2b4c":function(t,e,n){var i=n("5537")("wks"),o=n("ca5a"),r=n("7726").Symbol,c="function"==typeof r,a=t.exports=function(t){return i[t]||(i[t]=c&&r[t]||(c?r:o)("Symbol."+t))};a.store=i},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"32e9":function(t,e,n){var i=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"35e8":function(t,e,n){var i=n("d9f6"),o=n("aebd");t.exports=n("8e60")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"38fd":function(t,e,n){var i=n("69a8"),o=n("4bf8"),r=n("613b")("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},"41a0":function(t,e,n){"use strict";var i=n("2aeb"),o=n("4630"),r=n("7f20"),c={};n("32e9")(c,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(c,{next:o(1,n)}),r(t,e+" Iterator")}},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"456d":function(t,e,n){var i=n("4bf8"),o=n("0d58");n("5eda")("keys",function(){return function(t){return o(i(t))}})},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},"4dc3":function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){return!!t&&(t instanceof HTMLCollection||t instanceof NodeList)}var e=[];function n(e){if(e){if(e instanceof n)return e;var i,o,r,c,a=(this.selector=e).nodeType,s=[];9===a?s=[e]:1===a?s=[e]:t(e)||e instanceof Array?s=e:"string"==typeof e&&(s=0===(e=e.replace("/\n/mg","").trim()).indexOf("<")?(r=e,(c=document.createElement("div")).innerHTML=r,c.children):(i=e,t(o=document.querySelectorAll(i))?o:[o]));var l,u=s.length;if(!u)return this;for(l=0;l<u;l++)this[l]=s[l];this.length=u}}function i(t){return new n(t)}n.prototype={constructor:n,forEach:function(t){var e;for(e=0;e<this.length;e++){var n=this[e];if(!1===t.call(n,n,e))break}return this},clone:function(t){var e=[];return this.forEach(function(n){e.push(n.cloneNode(!!t))}),i(e)},get:function(t){var e=this.length;return e<=t&&(t%=e),i(this[t])},first:function(){return this.get(0)},last:function(){var t=this.length;return this.get(t-1)},on:function(t,n,i){i||(i=n,n=null);var o=[];return o=t.split(/\s+/),this.forEach(function(t){o.forEach(function(o){o&&(e.push({elem:t,type:o,fn:i}),n?t.addEventListener(o,function(t){var e=t.target;e.matches(n)&&i.call(e,t)}):t.addEventListener(o,i))})})},off:function(t,e){return this.forEach(function(n){n.removeEventListener(t,e)})},attr:function(t,e){return null==e?this[0].getAttribute(t):this.forEach(function(n){n.setAttribute(t,e)})},addClass:function(t){return t?this.forEach(function(e){var n;e.className?((n=(n=e.className.split(/\s/)).filter(function(t){return!!t.trim()})).indexOf(t)<0&&n.push(t),e.className=n.join(" ")):e.className=t}):this},removeClass:function(t){return t?this.forEach(function(e){var n;e.className&&(n=(n=e.className.split(/\s/)).filter(function(e){return!(!(e=e.trim())||e===t)}),e.className=n.join(" "))}):this},css:function(t,e){var n="".concat(t,":").concat(e,";");return this.forEach(function(e){var i=(e.getAttribute("style")||"").trim(),o=[];i?(i.split(";").forEach(function(t){var e=t.split(":").map(function(t){return t.trim()});2===e.length&&o.push(e[0]+":"+e[1])}),(o=o.map(function(e){return 0===e.indexOf(t)?n:e})).indexOf(n)<0&&o.push(n),e.setAttribute("style",o.join("; "))):e.setAttribute("style",n)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var t=this[0];return t?i(t.children):null},childNodes:function(){var t=this[0];return t?i(t.childNodes):null},append:function(t){return this.forEach(function(e){t.forEach(function(t){e.appendChild(t)})})},remove:function(){return this.forEach(function(t){if(t.remove)t.remove();else{var e=t.parentElement;e&&e.removeChild(t)}})},isContain:function(t){var e=this[0],n=t[0];return e.contains(n)},getSizeData:function(){return this[0].getBoundingClientRect()},getNodeName:function(){return this[0].nodeName},find:function(t){return i(this[0].querySelectorAll(t))},text:function(t){return t?this.forEach(function(e){e.innerHTML=t}):this[0].innerHTML.replace(/<.*?>/g,function(){return""})},html:function(t){var e=this[0];return null==t?e.innerHTML:(e.innerHTML=t,this)},val:function(){return this[0].value.trim()},focus:function(){return this.forEach(function(t){t.focus()})},parent:function(){return i(this[0].parentElement)},parentUntil:function(t,e){var n=document.querySelectorAll(t),o=n.length;if(!o)return null;var r=e||this[0];if("BODY"===r.nodeName)return null;var c,a=r.parentElement;for(c=0;c<o;c++)if(a===n[c])return i(a);return this.parentUntil(t,a)},equal:function(t){return 1===t.nodeType?this[0]===t:this[0]===t[0]},insertBefore:function(t){var e=i(t)[0];return e?this.forEach(function(t){e.parentNode.insertBefore(t,e)}):this},insertAfter:function(t){var e=i(t)[0];return e?this.forEach(function(t){var n=e.parentNode;n.lastChild===e?n.appendChild(t):n.insertBefore(t,e.nextSibling)}):this}},i.offAll=function(){e.forEach(function(t){var e=t.elem,n=t.type,i=t.fn;e.removeEventListener(n,i)})};var o={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["宋体","微软雅黑","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"默认",type:"image",content:[{alt:"[坏笑]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[舔屏]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[污]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"新浪",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[草泥马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[神马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[浮云]"}]},{title:"emoji",type:"emoji",content:"😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(){return!0},linkImgCheck:function(){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(t){return t},showLinkImg:!0,linkImgCallback:function(){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(){},success:function(){},fail:function(){},error:function(){},timeout:function(){}},qiniu:!1},r={_ua:navigator.userAgent,isWebkit:function(){return/webkit/i.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};function c(t,e){var n;for(n in t)if(t.hasOwnProperty(n)&&!1===e.call(t,n,t[n]))break}function a(t,e){var n,i,o=t.length||0;for(n=0;n<o&&(i=t[n],!1!==e.call(t,i,n));n++);}function s(t){return t+Math.random().toString().slice(2)}function l(t){return null==t?"":t.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function u(t){return"function"==typeof t}function f(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}function d(t,e){var n=t.config.langArgs||[],i=e;return n.forEach(function(t){var e=t.reg,n=t.val;e.test(i)&&(i=i.replace(e,function(){return n}))}),i}f.prototype={constructor:f,onClick:function(){var t=this.editor,e=t.selection.isSelectionEmpty();e&&t.selection.createEmptyRange(),t.cmd.do("bold"),e&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(){var t=this.editor,e=this.$elem;t.cmd.queryCommandState("bold")?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}};var p=function(){};function h(t,e){var n=this,o=t.editor;this.menu=t,this.opt=e;var r,c=i('<div class="w-e-droplist"></div>'),a=e.$title;a&&(r=a.html(),r=d(o,r),a.html(r),a.addClass("w-e-dp-title"),c.append(a));var s=e.list||[],l=e.type||"list",u=e.onClick||p,f=i('<ul class="'+("list"===l?"w-e-list":"w-e-block")+'"></ul>');c.append(f),s.forEach(function(t){var e=t.$elem,r=e.html();r=d(o,r),e.html(r);var c=t.value,a=i('<li class="w-e-item"></li>');e&&(a.append(e),f.append(a),a.on("click",function(t){u(c),n.hideTimeoutId=setTimeout(function(){n.hide()},0)}))}),c.on("mouseleave",function(t){n.hideTimeoutId=setTimeout(function(){n.hide()},0)}),this.$container=c,this._rendered=!1,this._show=!1}function v(t){var e=this;this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new h(this,{width:100,$title:i("<p>设置标题</p>"),type:"list",list:[{$elem:i("<h1>H1</h1>"),value:"<h1>"},{$elem:i("<h2>H2</h2>"),value:"<h2>"},{$elem:i("<h3>H3</h3>"),value:"<h3>"},{$elem:i("<h4>H4</h4>"),value:"<h4>"},{$elem:i("<h5>H5</h5>"),value:"<h5>"},{$elem:i("<p>正文</p>"),value:"<p>"}],onClick:function(t){e._command(t)}})}function m(t){var e=this;this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new h(this,{width:160,$title:i("<p>字号</p>"),type:"list",list:[{$elem:i('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:i('<span style="font-size: small;">small</span>'),value:"2"},{$elem:i("<span>normal</span>"),value:"3"},{$elem:i('<span style="font-size: large;">large</span>'),value:"4"},{$elem:i('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:i('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(t){e._command(t)}})}function g(t){var e=this;this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var n=t.config.fontNames||[];this.droplist=new h(this,{width:100,$title:i("<p>字体</p>"),type:"list",list:n.map(function(t){return{$elem:i('<span style="font-family: '.concat(t,';">').concat(t,"</span>")),value:t}}),onClick:function(t){e._command(t)}})}function y(){}h.prototype={constructor:h,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var t=this.menu.$elem,e=this.$container;if(!this._show){if(this._rendered)e.show();else{var n=t.getSizeData().height||0,i=this.opt.width||100;e.css("margin-top",n+"px").css("width",i+"px"),t.append(e),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var t=this.$container;this._show&&(t.hide(),this._show=!1)}},v.prototype={constructor:v,_command:function(t){var e=this.editor,n=e.selection.getSelectionContainerElem();e.$textElem.equal(n)||e.cmd.do("formatBlock",t)},tryChangeActive:function(){var t=this.editor,e=this.$elem,n=t.cmd.queryCommandValue("formatBlock");/^h/i.test(n)?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}},m.prototype={constructor:m,_command:function(t){this.editor.cmd.do("fontSize",t)}},g.prototype={constructor:g,_command:function(t){this.editor.cmd.do("fontName",t)}};var b=[];function w(t,e){this.menu=t,this.opt=e}function _(t){this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}w.prototype={constructor:w,show:function(){var t=this,e=this.menu;if(!(0<=b.indexOf(e))){var n=e.editor,o=i("body"),r=n.$textContainerElem,c=this.opt,a=i('<div class="w-e-panel-container"></div>'),s=c.width||300;a.css("width",s+"px").css("margin-left",(0-s)/2+"px");var l=i('<i class="w-e-icon-close w-e-panel-close"></i>');a.append(l),l.on("click",function(){t.hide()});var u=i('<ul class="w-e-panel-tab-title"></ul>'),f=i('<div class="w-e-panel-tab-content"></div>');a.append(u).append(f);var p=c.height;p&&f.css("height",p+"px").css("overflow-y","auto");var h=c.tabs||[],v=[],m=[];h.forEach(function(t,e){if(t){var o=t.title||"",r=t.tpl||"";o=d(n,o),r=d(n,r);var c=i('<li class="w-e-item">'.concat(o,"</li>"));u.append(c);var a=i(r);f.append(a),c._index=e,v.push(c),m.push(a),0===e?(c._active=!0,c.addClass("w-e-active")):a.hide(),c.on("click",function(t){c._active||(v.forEach(function(t){t._active=!1,t.removeClass("w-e-active")}),m.forEach(function(t){t.hide()}),c._active=!0,c.addClass("w-e-active"),a.show())})}}),a.on("click",function(t){t.stopPropagation()}),o.on("click",function(e){t.hide()}),r.append(a),h.forEach(function(e,n){e&&(e.events||[]).forEach(function(e){var i=e.selector,o=e.type,r=e.fn||y;m[n].find(i).on(o,function(e){e.stopPropagation(),r(e)&&t.hide()})})});var g=a.find("input[type=text],textarea");g.length&&g.get(0).focus(),this.$container=a,this._hideOtherPanels(),b.push(e)}},hide:function(){var t=this.menu,e=this.$container;e&&e.remove(),b=b.filter(function(e){return e!==t})},_hideOtherPanels:function(){b.length&&b.forEach(function(t){var e=t.panel||{};e.hide&&e.hide()})}};var x=window.alert;function C(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function E(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function S(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function k(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function O(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function T(t){var e=this;this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new h(this,{width:120,$title:i("<p>设置列表</p>"),type:"list",list:[{$elem:i('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),value:"insertOrderedList"},{$elem:i('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),value:"insertUnorderedList"}],onClick:function(t){e._command(t)}})}function I(t){var e=this;this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new h(this,{width:100,$title:i("<p>对齐方式</p>"),type:"list",list:[{$elem:i('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),value:"justifyLeft"},{$elem:i('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),value:"justifyCenter"},{$elem:i('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),value:"justifyRight"}],onClick:function(t){e._command(t)}})}function $(t){var e=this;this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var n=t.config.colors||[];this._active=!1,this.droplist=new h(this,{width:120,$title:i("<p>文字颜色</p>"),type:"inline-block",list:n.map(function(t){return{$elem:i('<i style="color:'.concat(t,';" class="w-e-icon-pencil2"></i>')),value:t}}),onClick:function(t){e._command(t)}})}function N(t){var e=this;this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var n=t.config.colors||[];this._active=!1,this.droplist=new h(this,{width:120,$title:i("<p>背景色</p>"),type:"inline-block",list:n.map(function(t){return{$elem:i('<i style="color:'.concat(t,';" class="w-e-icon-paint-brush"></i>')),value:t}}),onClick:function(t){e._command(t)}})}function j(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function L(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function R(t){this.editor=t,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function P(t){this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function A(t){this.editor=t,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function M(t){this.editor=t;var e=s("w-e-img");this.$elem=i('<div class="w-e-menu" id="'+e+'"><i class="w-e-icon-image"></i></div>'),t.imgMenuId=e,this.type="panel",this._active=!1}_.prototype={constructor:_,onClick:function(){var t,e=this.editor;if(this._active){if(!(t=e.selection.getSelectionContainerElem()))return;e.selection.createRangeByElem(t),e.selection.restoreSelection(),this._createPanel(t.text(),t.attr("href"))}else e.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(e.selection.getSelectionText(),"")},_createPanel:function(t,e){var n=this,o=s("input-link"),r=s("input-text"),c=s("btn-ok"),a=s("btn-del"),l=this._active?"inline-block":"none",u=new w(this,{width:300,tabs:[{title:"链接",tpl:'<div>\n                    <input id="'.concat(r,'" type="text" class="block" value="').concat(t,'" placeholder="链接文字"/></td>\n                    <input id="').concat(o,'" type="text" class="block" value="').concat(e,'" placeholder="http://..."/></td>\n                    <div class="w-e-button-container">\n                        <button id="').concat(c,'" class="right">插入</button>\n                        <button id="').concat(a,'" class="gray right" style="display:').concat(l,'">删除链接</button>\n                    </div>\n                </div>'),events:[{selector:"#"+c,type:"click",fn:function(){var t=i("#"+o),e=i("#"+r),c=t.val(),a=e.val();return n._insertLink(a,c),!0}},{selector:"#"+a,type:"click",fn:function(){return n._delLink(),!0}}]}]});u.show(),this.panel=u},_delLink:function(){if(this._active){var t=this.editor;if(t.selection.getSelectionContainerElem()){var e=t.selection.getSelectionText();t.cmd.do("insertHTML","<span>"+e+"</span>")}}},_insertLink:function(t,e){var n=this.editor,i=n.config.linkCheck,o=!0;i&&"function"==typeof i&&(o=i(t,e)),!0===o?n.cmd.do("insertHTML",'<a href="'.concat(e,'" target="_blank">').concat(t,"</a>")):x(o)},tryChangeActive:function(){var t=this.editor,e=this.$elem,n=t.selection.getSelectionContainerElem();n&&("A"===n.getNodeName()?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active")))}},C.prototype={constructor:C,onClick:function(){var t=this.editor,e=t.selection.isSelectionEmpty();e&&t.selection.createEmptyRange(),t.cmd.do("italic"),e&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(){var t=this.editor,e=this.$elem;t.cmd.queryCommandState("italic")?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}},E.prototype={constructor:E,onClick:function(){this.editor.cmd.do("redo")}},S.prototype={constructor:S,onClick:function(){var t=this.editor,e=t.selection.isSelectionEmpty();e&&t.selection.createEmptyRange(),t.cmd.do("strikeThrough"),e&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(){var t=this.editor,e=this.$elem;t.cmd.queryCommandState("strikeThrough")?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}},k.prototype={constructor:k,onClick:function(){var t=this.editor,e=t.selection.isSelectionEmpty();e&&t.selection.createEmptyRange(),t.cmd.do("underline"),e&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(){var t=this.editor,e=this.$elem;t.cmd.queryCommandState("underline")?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}},O.prototype={constructor:O,onClick:function(){this.editor.cmd.do("undo")}},T.prototype={constructor:T,_command:function(t){var e=this.editor,n=e.$textElem;if(e.selection.restoreSelection(),!e.cmd.queryCommandState(t)){e.cmd.do(t);var i=e.selection.getSelectionContainerElem();if("LI"===i.getNodeName()&&(i=i.parent()),!1!==/^ol|ul$/i.test(i.getNodeName())&&!i.equal(n)){var o=i.parent();o.equal(n)||(i.insertAfter(o),o.remove())}}},tryChangeActive:function(){var t=this.editor,e=this.$elem;t.cmd.queryCommandState("insertUnOrderedList")||t.cmd.queryCommandState("insertOrderedList")?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}},I.prototype={constructor:I,_command:function(t){this.editor.cmd.do(t)}},$.prototype={constructor:$,_command:function(t){this.editor.cmd.do("foreColor",t)}},N.prototype={constructor:N,_command:function(t){this.editor.cmd.do("backColor",t)}},j.prototype={constructor:j,onClick:function(){var t,e=this.editor,n=e.selection.getSelectionContainerElem(),o=n.getNodeName();if(r.isIE())return"P"===o?(t=n.text(),i("<blockquote>".concat(t,"</blockquote>")).insertAfter(n),void n.remove()):void("BLOCKQUOTE"===o&&(t=n.text(),i("<p>".concat(t,"</p>")).insertAfter(n),n.remove()));"BLOCKQUOTE"===o?e.cmd.do("formatBlock","<P>"):e.cmd.do("formatBlock","<BLOCKQUOTE>")},tryChangeActive:function(){var t=this.editor,e=this.$elem,n=t.cmd.queryCommandValue("formatBlock");/^BLOCKQUOTE$/i.test(n)?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}},L.prototype={constructor:L,onClick:function(){var t,e=this.editor,n=e.selection.getSelectionStartElem(),o=e.selection.getSelectionEndElem(),r=e.selection.isSelectionEmpty(),c=e.selection.getSelectionText();if(n.equal(o))return r?void(this._active?this._createPanel(n.html()):this._createPanel()):(t=i("<code>".concat(c,"</code>")),e.cmd.do("insertElem",t),e.selection.createRangeByElem(t,!1),void e.selection.restoreSelection());e.selection.restoreSelection()},_createPanel:function(t){var e=this,n=(t=t||"")?"edit":"new",o=s("texxt"),r=s("btn"),c=new w(this,{width:500,tabs:[{title:"插入代码",tpl:'<div>\n                        <textarea id="'.concat(o,'" style="height:145px;;">').concat(t,'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="').concat(r,'" class="right">插入</button>\n                        </div>\n                    <div>'),events:[{selector:"#"+r,type:"click",fn:function(){var t=i("#"+o),r=t.val()||t.html();return r=l(r),"new"==n?e._insertCode(r):e._updateCode(r),!0}}]}]});c.show(),this.panel=c},_insertCode:function(t){this.editor.cmd.do("insertHTML","<pre><code>".concat(t,"</code></pre><p><br></p>"))},_updateCode:function(t){var e=this.editor,n=e.selection.getSelectionContainerElem();n&&(n.html(t),e.selection.restoreSelection())},tryChangeActive:function(){var t=this.editor,e=this.$elem,n=t.selection.getSelectionContainerElem();if(n){var i=n.parent();"CODE"===n.getNodeName()&&"PRE"===i.getNodeName()?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}}},R.prototype={constructor:R,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=this.editor.config.emotions||[],n=[];e.forEach(function(e){var o=e.type,r=e.content||[],c="";"emoji"===o&&r.forEach(function(t){t&&(c+='<span class="w-e-item">'+t+"</span>")}),"image"===o&&r.forEach(function(t){var e=t.src,n=t.alt;e&&(c+='<span class="w-e-item"><img src="'+e+'" alt="'+n+'" data-w-e="1"/></span>')}),n.push({title:e.title,tpl:'<div class="w-e-emoticon-container">'.concat(c,"</div>"),events:[{selector:"span.w-e-item",type:"click",fn:function(e){var n,o=i(e.target);return n="IMG"===o.getNodeName()?o.parent().html():"<span>"+o.html()+"</span>",t._insert(n),!0}}]})});var o=new w(this,{width:300,height:200,tabs:n});o.show(),this.panel=o},_insert:function(t){this.editor.cmd.do("insertHTML",t)}},P.prototype={constructor:P,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var t=this,e=s("btn"),n=s("row"),o=s("col"),r=new w(this,{width:250,tabs:[{title:"插入表格",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            创建\n                            <input id="'.concat(n,'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            行\n                            <input id="').concat(o,'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            列的表格\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="').concat(e,'" class="right">插入</button>\n                        </div>\n                    </div>'),events:[{selector:"#"+e,type:"click",fn:function(){var e=parseInt(i("#"+n).val()),r=parseInt(i("#"+o).val());return e&&r&&0<e&&0<r&&t._insert(e,r),!0}}]}]});r.show(),this.panel=r},_insert:function(t,e){var n,i,o='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(n=0;n<t;n++){if(o+="<tr>",0===n)for(i=0;i<e;i++)o+="<th>&nbsp;</th>";else for(i=0;i<e;i++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</table><p><br></p>";var r=this.editor;r.cmd.do("insertHTML",o),r.cmd.do("enableObjectResizing",!1),r.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var t=this,e=s("add-row"),n=s("add-col"),i=s("del-row"),o=s("del-col"),r=s("del-table");new w(this,{width:320,tabs:[{title:"编辑表格",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'.concat(e,'" class="left">增加行</button>\n                            <button id="').concat(i,'" class="red left">删除行</button>\n                            <button id="').concat(n,'" class="left">增加列</button>\n                            <button id="').concat(o,'" class="red left">删除列</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="').concat(r,'" class="gray left">删除表格</button>\n                        </dv>\n                    </div>'),events:[{selector:"#"+e,type:"click",fn:function(){return t._addRow(),!0}},{selector:"#"+n,type:"click",fn:function(){return t._addCol(),!0}},{selector:"#"+i,type:"click",fn:function(){return t._delRow(),!0}},{selector:"#"+o,type:"click",fn:function(){return t._delCol(),!0}},{selector:"#"+r,type:"click",fn:function(){return t._delTable(),!0}}]}]}).show()},_getLocationData:function(){var t={},e=this.editor.selection.getSelectionContainerElem();if(e){var n=e.getNodeName();if("TD"===n||"TH"===n){var i=e.parent(),o=i.children(),r=o.length;o.forEach(function(n,i){if(n===e[0])return!(t.td={index:i,elem:n,length:r})});var c=i.parent().children(),a=c.length;return c.forEach(function(e,n){if(e===i[0])return!(t.tr={index:n,elem:e,length:a})}),t}}},_addRow:function(){var t=this._getLocationData();if(t){var e,n=i(t.tr.elem),o=t.td.length,r=document.createElement("tr"),c="";for(e=0;e<o;e++)c+="<td>&nbsp;</td>";r.innerHTML=c,i(r).insertAfter(n)}},_addCol:function(){var t=this._getLocationData();if(t){var e=t.tr,n=t.td.index;i(e.elem).parent().children().forEach(function(t){var e=i(t).children().get(n),o=e.getNodeName().toLowerCase();i(document.createElement(o)).insertAfter(e)})}},_delRow:function(){var t=this._getLocationData();t&&i(t.tr.elem).remove()},_delCol:function(){var t=this._getLocationData();if(t){var e=t.tr,n=t.td.index;i(e.elem).parent().children().forEach(function(t){i(t).children().get(n).remove()})}},_delTable:function(){var t=this.editor.selection.getSelectionContainerElem();if(t){var e=t.parentUntil("table");e&&e.remove()}},tryChangeActive:function(){var t=this.editor,e=this.$elem,n=t.selection.getSelectionContainerElem();if(n){var i=n.getNodeName();"TD"===i||"TH"===i?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}}},A.prototype={constructor:A,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=s("text-val"),n=s("btn"),o=new w(this,{width:350,tabs:[{title:"插入视频",tpl:'<div>\n                    <input id="'.concat(e,'" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n                    <div class="w-e-button-container">\n                        <button id="').concat(n,'" class="right">插入</button>\n                    </div>\n                </div>'),events:[{selector:"#"+n,type:"click",fn:function(){var n=i("#"+e).val().trim();return n&&t._insert(n),!0}}]}]});o.show(),this.panel=o},_insert:function(t){this.editor.cmd.do("insertHTML",t+"<p><br></p>")}},M.prototype={constructor:M,onClick:function(){this.editor.config.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var t=this.editor,e=s("width-30"),n=s("width-50"),i=s("width-100"),o=s("del-btn"),r=new w(this,{width:300,tabs:[{title:"编辑图片",tpl:'<div>\n                <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                    <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n                    <button id="'.concat(e,'" class="left">30%</button>\n                    <button id="').concat(n,'" class="left">50%</button>\n                    <button id="').concat(i,'" class="left">100%</button>\n                </div>\n                <div class="w-e-button-container">\n                    <button id="').concat(o,'" class="gray left">删除图片</button>\n                </dv>\n            </div>'),events:[{selector:"#"+e,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","30%"),!0}},{selector:"#"+n,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","50%"),!0}},{selector:"#"+i,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","100%"),!0}},{selector:"#"+o,type:"click",fn:function(){var e=t._selectedImg;return e&&e.remove(),!0}}]}]});r.show(),this.panel=r},_createInsertPanel:function(){var t=this.editor,e=t.uploadImg,n=t.config,o=s("up-trigger"),r=s("up-file"),c=s("link-url"),a=s("link-btn"),l=[{title:"上传图片",tpl:'<div class="w-e-up-img-container">\n                    <div id="'.concat(o,'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="').concat(r,'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>'),events:[{selector:"#"+o,type:"click",fn:function(){var t=i("#"+r)[0];if(!t)return!0;t.click()}},{selector:"#"+r,type:"change",fn:function(){var t=i("#"+r)[0];if(!t)return!0;var n=t.files;return n.length&&e.uploadImg(n),!0}}]},{title:"网络图片",tpl:'<div>\n                    <input id="'.concat(c,'" type="text" class="block" placeholder="图片链接"/></td>\n                    <div class="w-e-button-container">\n                        <button id="').concat(a,'" class="right">插入</button>\n                    </div>\n                </div>'),events:[{selector:"#"+a,type:"click",fn:function(){var t=i("#"+c).val().trim();return t&&e.insertLinkImg(t),!0}}]}],u=[];(n.uploadImgShowBase64||n.uploadImgServer||n.customUploadImg)&&window.FileReader&&u.push(l[0]),n.showLinkImg&&u.push(l[1]);var f=new w(this,{width:300,tabs:u});f.show(),this.panel=f},tryChangeActive:function(){var t=this.editor,e=this.$elem;t._selectedImg?(this._active=!0,e.addClass("w-e-active")):(this._active=!1,e.removeClass("w-e-active"))}};var H={};function D(t){this.editor=t,this.menus={}}function B(t){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return l(null==e?window.clipboardData&&window.clipboardData.getData("text"):e.getData("text/plain"))}function F(t){this.editor=t}function q(t){this.editor=t}function U(t){this.editor=t,this._currentRange=null}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t){this.editor=t,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=t.$textContainerElem,this.$bar=i('<div class="w-e-progress"></div>')}function G(t){this.editor=t}H.bold=f,H.head=v,H.fontSize=m,H.fontName=g,H.link=_,H.italic=C,H.redo=E,H.strikeThrough=S,H.underline=k,H.undo=O,H.list=T,H.justify=I,H.foreColor=$,H.backColor=N,H.quote=j,H.code=L,H.emoticon=R,H.table=P,H.video=A,H.image=M,D.prototype={constructor:D,init:function(){var t=this,e=this.editor;((e.config||{}).menus||[]).forEach(function(n){var i=H[n];i&&"function"==typeof i&&(t.menus[n]=new i(e))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var t=this.editor,e=t.$toolbarElem,n=this.menus,i=t.config.zIndex+1;c(n,function(t,n){var o=n.$elem;o&&(o.css("z-index",i),e.append(o))})},_bindEvent:function(){var t=this.menus,e=this.editor;c(t,function(t,n){var i=n.type;if(i){var o=n.$elem,r=n.droplist;"click"===i&&n.onClick&&o.on("click",function(t){null!=e.selection.getRange()&&n.onClick(t)}),"droplist"===i&&r&&o.on("mouseenter",function(t){null!=e.selection.getRange()&&(r.showTimeoutId=setTimeout(function(){r.show()},200))}).on("mouseleave",function(t){r.hideTimeoutId=setTimeout(function(){r.hide()},0)}),"panel"===i&&n.onClick&&o.on("click",function(t){t.stopPropagation(),null!=e.selection.getRange()&&n.onClick(t)})}})},changeActive:function(){c(this.menus,function(t,e){e.tryChangeActive&&setTimeout(function(){e.tryChangeActive()},100)})}},F.prototype={constructor:F,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(t){var e,n=this.editor,i=n.$textElem;if(null==t)return e=i.html(),e=e.replace(/\u200b/gm,""),e;i.html(t),n.initSelection()},getJSON:function(){return function t(e){var n=[];return(e.childNodes()||[]).forEach(function(e){var o,r=e.nodeType;if(3===r&&(o=l(o=e.textContent)),1===r){(o={}).tag=e.nodeName.toLowerCase();for(var c=[],a=e.attributes||{},s=a.length||0,u=0;u<s;u++){var f=a[u];c.push({name:f.name,value:f.value})}o.attrs=c,o.children=t(i(e))}n.push(o)}),n}(this.editor.$textElem)},text:function(t){var e,n=this.editor,i=n.$textElem;if(null==t)return e=i.text(),e=e.replace(/\u200b/gm,""),e;i.text("<p>".concat(t,"</p>")),n.initSelection()},append:function(t){var e=this.editor;e.$textElem.append(i(t)),e.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){var t=this.editor,e=t.$textElem;function n(e){t.selection.saveRange(),t.menus.changeActive()}e.on("keyup",n),e.on("mousedown",function(t){e.on("mouseleave",n)}),e.on("mouseup",function(t){n(),e.off("mouseleave",n)})},_enterKeyHandle:function(){var t=this.editor,e=t.$textElem;function n(e){var n=i("<p><br></p>");n.insertBefore(e),t.selection.createRangeByElem(n,!0),t.selection.restoreSelection(),e.remove()}e.on("keyup",function(i){var o,r;13===i.keyCode&&(o=t.selection.getSelectionContainerElem(),"<code><br></code>"!==(r=o.parent()).html()?r.equal(e)&&"P"!==o.getNodeName()&&(o.text()||n(o)):n(o))}),e.on("keydown",function(e){13===e.keyCode?function(e){var n=t.selection.getSelectionContainerElem();if(n){var o=n.parent(),r=n.getNodeName(),c=o.getNodeName();if("CODE"===r&&"PRE"===c&&t.cmd.queryCommandSupported("insertHTML")){if(!0===t._willBreakCode){var a=i("<p><br></p>");return a.insertAfter(o),t.selection.createRangeByElem(a,!0),t.selection.restoreSelection(),t._willBreakCode=!1,e.preventDefault()}var s=t.selection.getRange().startOffset;t.cmd.do("insertHTML","\n"),t.selection.saveRange(),t.selection.getRange().startOffset===s&&t.cmd.do("insertHTML","\n");var l=n.html().length;t.selection.getRange().startOffset+1===l&&(t._willBreakCode=!0),e.preventDefault()}}}(e):t._willBreakCode=!1})},_clearHandle:function(){var t=this.editor,e=t.$textElem;e.on("keydown",function(t){8===t.keyCode&&"<p><br></p>"===e.html().toLowerCase().trim()&&t.preventDefault()}),e.on("keyup",function(n){if(8===n.keyCode){var o,r=e.html().toLowerCase().trim();r&&"<br>"!==r||(o=i("<p><br/></p>"),e.html(""),e.append(o),t.selection.createRangeByElem(o,!1,!0),t.selection.restoreSelection())}})},_pasteHandle:function(){var t=this.editor,e=t.config,n=e.pasteFilterStyle,i=e.pasteTextHandle,o=e.pasteIgnoreImg,a=t.$textElem,s=0;function f(){var t=Date.now(),e=!1;return 100<=t-s&&(e=!0),s=t,e}a.on("paste",function(e){if(!r.isIE()&&(e.preventDefault(),f())){var c=function(t,e,n){var i,o,r=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;if(null==r?i=window.clipboardData&&window.clipboardData.getData("text"):(i=r.getData("text/plain"),o=r.getData("text/html")),!o&&i&&(o="<p>"+l(i)+"</p>"),o){var c=o.split("</html>");return 2===c.length&&(o=c[0]),o=(o=(o=o.replace(/<(meta|script|link).+?>/gim,"")).replace(/<!--.*?-->/gm,"")).replace(/\s?data-.+?=('|").+?('|")/gim,""),n&&(o=o.replace(/<img.+?>/gim,"")),e?o.replace(/\s?(class|style)=('|").*?('|")/gim,""):o.replace(/\s?class=('|").*?('|")/gim,"")}}(e,n,o),a=B(e);a=a.replace(/\n/gm,"<br>");var d=t.selection.getSelectionContainerElem();if(d){var p=d.getNodeName();if("CODE"===p||"PRE"===p)return i&&u(i)&&(a=""+(i(a)||"")),void t.cmd.do("insertHTML","<p>".concat(a,"</p>"));if(c)try{i&&u(i)&&(c=""+(i(c)||"")),t.cmd.do("insertHTML",c)}catch(e){i&&u(i)&&(a=""+(i(a)||"")),t.cmd.do("insertHTML","<p>".concat(a,"</p>"))}else s=0}}}),a.on("paste",function(e){if(!r.isIE()&&(e.preventDefault(),f())){var n=function(t){var e=[];if(B(t))return e;var n=(t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData||{}).items;return n&&c(n,function(t,n){var i=n.type;/image/i.test(i)&&e.push(n.getAsFile())}),e}(e);if(n&&n.length){var i=t.selection.getSelectionContainerElem();if(i){var o=i.getNodeName();"CODE"!==o&&"PRE"!==o&&t.uploadImg.uploadImg(n)}}}})},_tabHandle:function(){var t=this.editor;t.$textElem.on("keydown",function(e){if(9===e.keyCode&&t.cmd.queryCommandSupported("insertHTML")){var n=t.selection.getSelectionContainerElem();if(n){var i=n.parent(),o=n.getNodeName(),r=i.getNodeName();"CODE"===o&&"PRE"===r?t.cmd.do("insertHTML","    "):t.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),e.preventDefault()}}})},_imgHandle:function(){var t=this.editor,e=t.$textElem;e.on("click","img",function(e){var n=i(this);"1"!==n.attr("data-w-e")&&(t._selectedImg=n,t.selection.createRangeByElem(n),t.selection.restoreSelection())}),e.on("click  keyup",function(e){e.target.matches("img")||(t._selectedImg=null)})},_dragHandle:function(){var t=this.editor;i(document).on("dragleave drop dragenter dragover",function(t){t.preventDefault()}),t.$textElem.on("drop",function(e){e.preventDefault();var n=e.dataTransfer&&e.dataTransfer.files;n&&n.length&&t.uploadImg.uploadImg(n)})}},q.prototype={constructor:q,do:function(t,e){var n=this.editor;if(n._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),n._useStyleWithCSS=!0),n.selection.getRange()){n.selection.restoreSelection();var i="_"+t;this[i]?this[i](e):this._execCommand(t,e),n.menus.changeActive(),n.selection.saveRange(),n.selection.restoreSelection(),n.change&&n.change()}},_insertHTML:function(t){var e=this.editor.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",t):e.insertNode?(e.deleteContents(),e.insertNode(i(t)[0])):e.pasteHTML&&e.pasteHTML(t)},_insertElem:function(t){var e=this.editor.selection.getRange();e.insertNode&&(e.deleteContents(),e.insertNode(t[0]))},_execCommand:function(t,e){document.execCommand(t,!1,e)},queryCommandValue:function(t){return document.queryCommandValue(t)},queryCommandState:function(t){return document.queryCommandState(t)},queryCommandSupported:function(t){return document.queryCommandSupported(t)}},U.prototype={constructor:U,getRange:function(){return this._currentRange},saveRange:function(t){if(t)this._currentRange=t;else{var e=window.getSelection();if(0!==e.rangeCount){var n=e.getRangeAt(0),i=this.getSelectionContainerElem(n);i&&("false"===i.attr("contenteditable")||i.parentUntil("[contenteditable=false]")||this.editor.$textElem.isContain(i)&&(this._currentRange=n))}}},collapseRange:function(t){null==t&&(t=!1);var e=this._currentRange;e&&e.collapse(t)},getSelectionText:function(){var t=this._currentRange,e=document.querySelector("#".concat(this.editor.textElemId));return t&&-1===e.innerHTML.indexOf("img")?this._currentRange.toString():-1<e.innerHTML.indexOf("img")?e.innerHTML.match(/<img.*?(?:>|\/>)/gi)[0].replace(/"/g,"&quot;").replace(/>/g,"&gt;"):""},getSelectionContainerElem:function(t){var e;if(t=t||this._currentRange)return i(1===(e=t.commonAncestorContainer).nodeType?e:e.parentNode)},getSelectionStartElem:function(t){var e;if(t=t||this._currentRange)return i(1===(e=t.startContainer).nodeType?e:e.parentNode)},getSelectionEndElem:function(t){var e;if(t=t||this._currentRange)return i(1===(e=t.endContainer).nodeType?e:e.parentNode)},isSelectionEmpty:function(){var t=this._currentRange;return!(!t||!t.startContainer||t.startContainer!==t.endContainer||t.startOffset!==t.endOffset)},restoreSelection:function(){var t=window.getSelection();t.removeAllRanges(),t.addRange(this._currentRange)},createEmptyRange:function(){var t,e=this.editor,n=this.getRange();if(n&&this.isSelectionEmpty())try{r.isWebkit()?(e.cmd.do("insertHTML","&#8203;"),n.setEnd(n.endContainer,n.endOffset+1),this.saveRange(n)):(t=i("<strong>&#8203;</strong>"),e.cmd.do("insertElem",t),this.createRangeByElem(t,!0))}catch(t){}},createRangeByElem:function(t,e,n){if(t.length){var i=t[0],o=document.createRange();n?o.selectNodeContents(i):o.selectNode(i),"boolean"==typeof e&&o.collapse(e),this.saveRange(o)}}},V.prototype={constructor:V,show:function(t){var e=this;if(!this._isShow){this._isShow=!0;var n=this.$bar;this._isRender?this._isRender=!0:this.$textContainer.append(n),100<Date.now()-this._time&&t<=1&&(n.css("width",100*t+"%"),this._time=Date.now());var i=this._timeoutId;i&&clearTimeout(i),i=setTimeout(function(){e._hide()},500)}},_hide:function(){this.$bar.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var W=window.alert;G.prototype={constructor:G,_alert:function(t,e){var n=this.editor,i=n.config.debug,o=n.config.customAlert;if(i)throw new Error("wangEditor: "+(e||t));o&&"function"==typeof o?o(t):W(t)},insertLinkImg:function(t){var e=this;if(t){var n,i=this.editor,o=i.config,r=o.linkImgCheck;if(r&&"function"==typeof r&&"string"==typeof(n=r(t)))W(n);else{i.cmd.do("insertHTML",'<img src="'.concat(t,'" style="max-width:100%;"/>'));var c=document.createElement("img");c.onload=function(){var e=o.linkImgCallback;e&&"function"==typeof e&&e(t),c=null},c.onerror=function(){c=null,e._alert("插入图片错误",'wangEditor: 插入图片出错，图片链接是 "'.concat(t,'"，下载该链接失败'))},c.onabort=function(){c=null},c.src=t}}},uploadImg:function(t){var e=this;if(t&&t.length){var n=this.editor,i=n.config,o=i.uploadImgServer,r=i.uploadImgShowBase64,s=i.uploadImgMaxSize,l=s/1024/1024,u=i.uploadImgMaxLength||1e4,f=i.uploadFileName||"",d=i.uploadImgParams||{},p=i.uploadImgParamsWithUrl,h=i.uploadImgHeaders||{},v=i.uploadImgHooks||{},m=i.uploadImgTimeout||3e3,g=i.withCredentials;null==g&&(g=!1);var y=i.customUploadImg;if(y||o||r){var b=[],w=[];if(a(t,function(t){var e=t.name,n=t.size;e&&n&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(e)?s<n?w.push("【".concat(e,"】大于 ").concat(l,"M")):b.push(t):w.push("【".concat(e,"】不是图片")))}),w.length)this._alert("图片验证未通过: \n"+w.join("\n"));else if(b.length>u)this._alert("一次最多上传"+u+"张图片");else if(y&&"function"==typeof y)y(b,this.insertLinkImg.bind(this));else{var _=new FormData;if(a(b,function(t){var e=f||t.name;_.append(e,t)}),o&&"string"==typeof o){var x=o.split("#");o=x[0];var C=x[1]||"";c(d,function(t,e){p&&(0<o.indexOf("?")?o+="&":o+="?",o=o+t+"="+e),_.append(t,e)}),C&&(o+="#"+C);var E=new XMLHttpRequest;if(E.open("POST",o),E.timeout=m,E.ontimeout=function(){v.timeout&&"function"==typeof v.timeout&&v.timeout(E,n),e._alert("上传图片超时")},E.upload&&(E.upload.onprogress=function(t){var e,i=new V(n);t.lengthComputable&&(e=t.loaded/t.total,i.show(e))}),E.onreadystatechange=function(){var i;if(4===E.readyState){if(E.status<200||300<=E.status)return v.error&&"function"==typeof v.error&&v.error(E,n),void e._alert("上传图片发生错误","上传图片发生错误，服务器返回状态是 ".concat(E.status));if("object"!==z(i=E.responseText))try{i=JSON.parse(i)}catch(t){return v.fail&&"function"==typeof v.fail&&v.fail(E,n,i),void e._alert("上传图片失败","上传图片返回结果错误，返回结果是: "+i)}v.customInsert||"0"===i.errno?(v.customInsert&&"function"==typeof v.customInsert?v.customInsert(e.insertLinkImg.bind(e),i,n):(i.data||[]).forEach(function(t){e.insertLinkImg(t)}),v.success&&"function"==typeof v.success&&v.success(E,n,i)):(v.fail&&"function"==typeof v.fail&&v.fail(E,n,i),e._alert("上传图片失败","上传图片返回结果错误，返回结果 errno="+i.errno))}},v.before&&"function"==typeof v.before){var S=v.before(E,n,b);if(S&&"object"===z(S)&&S.prevent)return void this._alert(S.msg)}return c(h,function(t,e){E.setRequestHeader(t,e)}),E.withCredentials=g,void E.send(_)}r&&a(t,function(t){var n=e,i=new FileReader;i.readAsDataURL(t),i.onload=function(){n.insertLinkImg(this.result)}})}}}}};var K=1;function X(t,e){if(null===t)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");this.id="wangEditor-"+K++,this.toolbarSelector=t,this.textSelector=e,this.customConfig={}}if(X.prototype={constructor:X,_initConfig:function(){this.config=Object.assign({},o,this.customConfig);var t=this.config.lang||{},e=[];c(t,function(t,n){e.push({reg:new RegExp(t,"img"),val:n})}),this.config.langArgs=e},_initDom:function(){var t,e,n,o,r=this,c=i(this.toolbarSelector),a=this.textSelector,l=this.config,u=l.zIndex;null==a?(t=i("<div></div>"),e=i("<div></div>"),o=c.children(),c.append(t).append(e),t.css("background-color","#f1f1f1").css("border","1px solid #ccc"),e.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(t=c,o=(e=i(a)).children()),(n=i("<div></div>")).attr("contenteditable","true").css("width","100%").css("height","100%"),o&&o.length?n.append(o):n.append(i("<p><br></p>")),e.append(n),t.addClass("w-e-toolbar"),e.addClass("w-e-text-container"),e.css("z-index",u),n.addClass("w-e-text");var f=s("toolbar-elem");t.attr("id",f);var d=s("text-elem");n.attr("id",d),this.$toolbarElem=t,this.$textContainerElem=e,this.$textElem=n,this.toolbarElemId=f,this.textElemId=d;var p=!0;e.on("compositionstart",function(){p=!1}),e.on("compositionend",function(){p=!0}),e.on("click keyup",function(){p&&r.change&&r.change()}),t.on("click",function(){this.change&&this.change()}),(l.onfocus||l.onblur)&&(this.isFocus=!1,i(document).on("click",function(e){var o=n.isContain(i(e.target)),c=t.isContain(i(e.target)),a=t[0]===e.target;if(o)r.isFocus||r.onfocus&&r.onfocus(),r.isFocus=!0;else{if(c&&!a)return;r.isFocus&&r.onblur&&r.onblur(),r.isFocus=!1}}))},_initCommand:function(){this.cmd=new q(this)},_initSelectionAPI:function(){this.selection=new U(this)},_initUploadImg:function(){this.uploadImg=new G(this)},_initMenus:function(){this.menus=new D(this),this.menus.init()},_initText:function(){this.txt=new F(this),this.txt.init()},initSelection:function(t){var e=this.$textElem,n=e.children();if(!n.length)return e.append(i("<p><br></p>")),void this.initSelection();var o=n.last();if(t){var r=o.html().toLowerCase(),c=o.getNodeName();if("<br>"!==r&&"<br/>"!==r||"P"!==c)return e.append(i("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(o,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var t=0,e=this.txt.html(),n=this.config,i=n.onchangeTimeout;(!(i=parseInt(i,10))||i<=0)&&(i=200);var o=n.onchange;o&&"function"==typeof o&&(this.change=function(){var n=this.txt.html();n.length===e.length&&n===e||(t&&clearTimeout(t),t=setTimeout(function(){o(n),e=n},i))});var r=n.onblur;r&&"function"==typeof r&&(this.onblur=function(){var t=this.txt.html();r(t)});var c=n.onfocus;c&&"function"==typeof c&&(this.onfocus=function(){c()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){i.offAll()}},"undefined"==typeof window)throw new Error("请在浏览器环境下运行");return X})},"520a":function(t,e,n){"use strict";var i=n("0bfb"),o=RegExp.prototype.exec,r=String.prototype.replace,c=o,a="lastIndex",s=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t[a]||0!==e[a]}(),l=void 0!==/()??/.exec("")[1],u=s||l;u&&(c=function(t){var e,n,c,u,f=this;return l&&(n=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),s&&(e=f[a]),c=o.call(f,t),s&&c&&(f[a]=f.global?c.index+c[0].length:e),l&&c&&c.length>1&&r.call(c[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)}),c}),t.exports=c},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var i=n("8378"),o=n("7726"),r="__core-js_shared__",c=o[r]||(o[r]={});(t.exports=function(t,e){return c[t]||(c[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"584a":function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"5ca1":function(t,e,n){var i=n("7726"),o=n("8378"),r=n("32e9"),c=n("2aba"),a=n("9b43"),s="prototype",l=function(t,e,n){var u,f,d,p,h=t&l.F,v=t&l.G,m=t&l.S,g=t&l.P,y=t&l.B,b=v?i:m?i[e]||(i[e]={}):(i[e]||{})[s],w=v?o:o[e]||(o[e]={}),_=w[s]||(w[s]={});for(u in v&&(n=e),n)f=!h&&b&&void 0!==b[u],d=(f?b:n)[u],p=y&&f?a(d,i):g&&"function"==typeof d?a(Function.call,d):d,b&&c(b,u,d,t&l.U),w[u]!=d&&r(w,u,p),g&&_[u]!=d&&(_[u]=d)};i.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5dbc":function(t,e,n){var i=n("d3f4"),o=n("8b97").set;t.exports=function(t,e,n){var r,c=e.constructor;return c!==n&&"function"==typeof c&&(r=c.prototype)!==n.prototype&&i(r)&&o&&o(t,r),t}},"5eda":function(t,e,n){var i=n("5ca1"),o=n("8378"),r=n("79e5");t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],c={};c[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",c)}},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"613b":function(t,e,n){var i=n("5537")("keys"),o=n("ca5a");t.exports=function(t){return i[t]||(i[t]=o(t))}},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"626e":function(t,e,n){"use strict";var i=n("fa63"),o=n.n(i);o.a},"63b6":function(t,e,n){var i=n("e53d"),o=n("584a"),r=n("d864"),c=n("35e8"),a=n("07e3"),s="prototype",l=function(t,e,n){var u,f,d,p=t&l.F,h=t&l.G,v=t&l.S,m=t&l.P,g=t&l.B,y=t&l.W,b=h?o:o[e]||(o[e]={}),w=b[s],_=h?i:v?i[e]:(i[e]||{})[s];for(u in h&&(n=e),n)f=!p&&_&&void 0!==_[u],f&&a(b,u)||(d=f?_[u]:n[u],b[u]=h&&"function"!=typeof _[u]?n[u]:g&&f?r(d,i):y&&_[u]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[s]=t[s],e}(d):m&&"function"==typeof d?r(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[u]=d,t&l.R&&w&&!w[u]&&c(w,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},6821:function(t,e,n){var i=n("626a"),o=n("be13");t.exports=function(t){return i(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var i=n("4588"),o=Math.max,r=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):r(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7f20":function(t,e,n){var i=n("86cc").f,o=n("69a8"),r=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},"7f7f":function(t,e,n){var i=n("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,c="name";c in o||n("9e1e")&&i(o,c,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},8378:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"85f2":function(t,e,n){t.exports=n("454f")},"86cc":function(t,e,n){var i=n("cb7c"),o=n("c69a"),r=n("6a99"),c=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return c(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8b97":function(t,e,n){var i=n("d3f4"),o=n("cb7c"),r=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8e6e":function(t,e,n){var i=n("5ca1"),o=n("990b"),r=n("6821"),c=n("11e9"),a=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,i=r(t),s=c.f,l=o(i),u={},f=0;while(l.length>f)n=s(i,e=l[f++]),void 0!==n&&a(u,e,n);return u}})},9093:function(t,e,n){var i=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},"990b":function(t,e,n){var i=n("9093"),o=n("2621"),r=n("cb7c"),c=n("7726").Reflect;t.exports=c&&c.ownKeys||function(t){var e=i.f(r(t)),n=o.f;return n?e.concat(n(t)):e}},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[i]&&n("32e9")(o,i,{}),t.exports=function(t){o[i][t]=!0}},"9def":function(t,e,n){var i=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a481:function(t,e,n){"use strict";var i=n("cb7c"),o=n("4bf8"),r=n("9def"),c=n("4588"),a=n("0390"),s=n("5f1b"),l=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,v){return[function(i,o){var r=t(this),c=void 0==i?void 0:i[e];return void 0!==c?c.call(i,r,o):n.call(String(r),i,o)},function(t,e){var o=v(n,t,this,e);if(o.done)return o.value;var f=i(t),d=String(this),p="function"===typeof e;p||(e=String(e));var g=f.global;if(g){var y=f.unicode;f.lastIndex=0}var b=[];while(1){var w=s(f,d);if(null===w)break;if(b.push(w),!g)break;var _=String(w[0]);""===_&&(f.lastIndex=a(d,r(f.lastIndex),y))}for(var x="",C=0,E=0;E<b.length;E++){w=b[E];for(var S=String(w[0]),k=l(u(c(w.index),d.length),0),O=[],T=1;T<w.length;T++)O.push(h(w[T]));var I=w.groups;if(p){var $=[S].concat(O,k,d);void 0!==I&&$.push(I);var N=String(e.apply(void 0,$))}else N=m(S,d,k,O,I,e);k>=C&&(x+=d.slice(C,k)+N,C=k+S.length)}return x+d.slice(C)}];function m(t,e,i,r,c,a){var s=i+t.length,l=r.length,u=p;return void 0!==c&&(c=o(c),u=d),n.call(a,u,function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(s);case"<":a=c[o.slice(1,-1)];break;default:var u=+o;if(0===u)return n;if(u>l){var d=f(u/10);return 0===d?n:d<=l?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):n}a=r[u-1]}return void 0===a?"":a})}})},aa77:function(t,e,n){var i=n("5ca1"),o=n("be13"),r=n("79e5"),c=n("fdef"),a="["+c+"]",s="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),f=function(t,e,n){var o={},a=r(function(){return!!c[t]()||s[t]()!=s}),l=o[t]=a?e(d):c[t];n&&(o[n]=l),i(i.P+i.F*a,"String",o)},d=f.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},ac6a:function(t,e,n){for(var i=n("cadf"),o=n("0d58"),r=n("2aba"),c=n("7726"),a=n("32e9"),s=n("84f2"),l=n("2b4c"),u=l("iterator"),f=l("toStringTag"),d=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),v=0;v<h.length;v++){var m,g=h[v],y=p[g],b=c[g],w=b&&b.prototype;if(w&&(w[u]||a(w,u,d),w[f]||a(w,f,g),s[g]=d,y))for(m in i)w[m]||r(w,m,i[m],!0)}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var i=n("6821"),o=n("9def"),r=n("77f1");t.exports=function(t){return function(e,n,c){var a,s=i(e),l=o(s.length),u=r(c,l);if(t&&n!=n){while(l>u)if(a=s[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in s)&&s[u]===n)return t||u||0;return!t&&-1}}},c5f6:function(t,e,n){"use strict";var i=n("7726"),o=n("69a8"),r=n("2d95"),c=n("5dbc"),a=n("6a99"),s=n("79e5"),l=n("9093").f,u=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,p="Number",h=i[p],v=h,m=h.prototype,g=r(n("2aeb")(m))==p,y="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var n,i,o,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var c,s=e.slice(2),l=0,u=s.length;l<u;l++)if(c=s.charCodeAt(l),c<48||c>o)return NaN;return parseInt(s,i)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(g?s(function(){m.valueOf.call(n)}):r(n)!=p)?c(new v(b(e)),n,h):b(e)};for(var w,_=n("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)o(v,w=_[x])&&!o(h,w)&&f(h,w,u(v,w));h.prototype=m,m.constructor=h,n("2aba")(i,p,h)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},cadf:function(t,e,n){"use strict";var i=n("9c6c"),o=n("d53b"),r=n("84f2"),c=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=c(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var i=n("69a8"),o=n("6821"),r=n("c366")(!1),c=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=o(t),s=0,l=[];for(n in a)n!=c&&i(a,n)&&l.push(n);while(e.length>s)i(a,n=e[s++])&&(~r(l,n)||l.push(n));return l}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d864:function(t,e,n){var i=n("79aa");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var i=n("e4ae"),o=n("794b"),r=n("1bc3"),c=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return c(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e4ae:function(t,e,n){var i=n("f772");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},f1ae:function(t,e,n){"use strict";var i=n("86cc"),o=n("4630");t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(i){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fa63:function(t,e,n){},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},fb15:function(t,e,n){"use strict";var i;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=i[1]));n("8e6e"),n("cadf"),n("456d");var o=n("85f2"),r=n.n(o);function c(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("7f7f"),n("ac6a");var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vueEditor"},[n("div",{ref:"editor"})])},s=[],l=(n("a481"),n("c5f6"),n("4dc3")),u=n.n(l);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var p={name:"vueEditor",components:{},model:{prop:"value",event:"change"},props:{value:{type:[String,Number],default:function(){return""}},toolBar:{type:Array,default:function(){return["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","code","undo","redo"]}},action:{type:String,default:function(){return""}},fileName:{type:String,default:function(){return"files"}},baseUrl:{type:String,default:function(){return""}},size:{type:Number,default:function(){return 2}},limit:{type:Number,default:function(){return 1e4}},data:{type:Object,default:function(){}},merge:{type:Boolean,default:function(){return!1}},debug:{type:Boolean,default:function(){return!1}},hook:{type:Object,default:function(){}},option:{type:Object,default:function(){}}},data:function(){return{editor:null,content:"",reg:/<\/?.+?\/?>/g}},computed:{},watch:{value:function(t){var e=this.editor.txt.html().replace(this.reg,"");e||-1!==this.editor.txt.html().indexOf("img")||(this.editor.txt.html(this.value),this.content=this.value),this.value||(this.editor.txt.clear(),this.content=this.value)}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t._initEditor()})},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{_initEditor:function(){var t=this;this.editor=new u.a(this.$refs.editor),this.editor.customConfig.onchange=function(e){t.content=e,t.$emit("change",t.content)},this.editor.customConfig.debug=this.debug,this.editor.customConfig.menus=this.toolBar,this.editor.customConfig.pasteFilterStyle=!1,this.editor.customConfig.withCredentials=!0,this.action?(this.editor.customConfig.uploadImgServer=this.action,this.editor.customConfig.uploadFileName=this.fileName,this.hook&&Object.keys(this.hook).length&&this.action?this.editor.customConfig.uploadImgHooks=this.hook:this.editor.customConfig.uploadImgHooks={customInsert:this._upLoadSuccess}):this.editor.customConfig.uploadImgShowBase64=!0,this.editor.customConfig.uploadImgMaxSize=1024*this.size*1024,this.editor.customConfig.uploadImgMaxLength=this.limit,this.editor.customConfig.uploadImgParams=this.data,this.data&&Object.keys(this.data).length&&(this.editor.customConfig.uploadImgParamsWithUrl=this.merge),this.option&&Object.keys(this.option).length&&(this.editor.customConfig=d({},this.editor.customConfig,{},this.option)),this.editor.create(),this._initValue()},_upLoadSuccess:function(t,e,n){var i=this;e.url.length&&e.url.forEach(function(e){var n="".concat(i.baseUrl).concat(e);t(n)})},_initValue:function(){this.editor.txt.html(this.value)}}},h=p;n("626e");function v(t,e,n,i,o,r,c,a){var s,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),c?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},l._ssrRegister=s):o&&(s=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),s)if(l.functional){l._injectStyles=s;var u=l.render;l.render=function(t,e){return s.call(e),u(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:l}}var m=v(h,a,s,!1,null,"52a76028",null),g=m.exports;g.install=function(t){t.component(g.name,g)};var y=g;function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var _=[y],x=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];_.forEach(function(e){t.component(e.name,e)})};"undefined"!==typeof window&&window.Vue&&x(window.Vue);var C=w({install:x},_);e["default"]=C},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})});